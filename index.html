<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <title>åŠ¨ç‰©æˆåˆ†å¿ƒç†æµ‹è¯•</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <style>
        * { box-sizing: border-box; }
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
            "Helvetica Neue", Arial, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
            sans-serif;
            background: #fff7fb;
            color: #333;

            /* æ–°å¢ï¼šå…¨å±å±…ä¸­ */
            display: flex;
            justify-content: center;   /* æ°´å¹³å±…ä¸­ */
            align-items: center;       /* å‚ç›´å±…ä¸­ */

            /* é€‚é…æ‰‹æœºå¯æ»šåŠ¨å¸ƒå±€ */
            min-height: 100vh;
            padding: 16px;
        }

        .app {
            width: 100%;
            max-width: 480px;
            background: #ffffff;
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.08);
            padding: 20px 16px 24px;
        }
        .title {
            font-size: 22px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 8px;
        }
        .subtitle {
            font-size: 13px;
            text-align: center;
            color: #999;
            margin-bottom: 16px;
        }
        .tagline {
            text-align: center;
            font-size: 13px;
            color: #ff7aa2;
            margin-bottom: 12px;
        }
        .btn {
            width: 100%;
            border: none;
            border-radius: 999px;
            padding: 10px 16px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            background: linear-gradient(135deg,#ff9ecd,#ff7aa2);
            color: #fff;
            margin-top: 8px;
            transition: transform .1s ease, box-shadow .1s ease;
        }
        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(255,122,162,0.4);
        }
        .btn:active {
            transform: translateY(0);
            box-shadow: none;
        }
        .btn-ghost {
            background: #fff;
            color: #ff7aa2;
            border: 1px solid #ffd0e4;
            margin-top: 4px;
        }
        .progress {
            height: 8px;
            background: #ffe6f1;
            border-radius: 999px;
            overflow: hidden;
            margin-bottom: 12px;
        }
        .progress-inner {
            height: 100%;
            background: linear-gradient(90deg,#ff9ecd,#ff7aa2);
            transition: width .2s ease;
        }
        .question-index {
            font-size: 13px;
            color: #999;
            margin-bottom: 4px;
        }
        .question-text {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
        }
        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .option-card {
            border-radius: 12px;
            padding: 10px 12px;
            background: #fff7fb;
            cursor: pointer;
            border: 1px solid transparent;
            display: flex;
            align-items: flex-start;
            transition: background .15s ease,border-color .15s ease, transform .1s ease;
        }
        .option-card:hover {
            background: #ffeefa;
            transform: translateY(-1px);
        }
        .option-card.active {
            background: #ffe1f2;
            border-color: #ff7aa2;
            box-shadow: 0 4px 12px rgba(255,122,162,0.25);
        }
        .option-label {
            font-weight: 700;
            margin-right: 6px;
            font-size: 14px;
            color: #ff7aa2;
        }
        .option-text {
            font-size: 14px;
        }
        .footer-tip {
            font-size: 11px;
            color: #bbb;
            text-align: center;
            margin-top: 8px;
        }
        .result-header {
            text-align: center;
            margin-bottom: 12px;
        }
        .result-name {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        .result-animal-badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 10px;
            border-radius: 999px;
            background: #fff7fb;
            font-size: 12px;
            color: #ff7aa2;
            border: 1px solid #ffd0e4;
            margin-bottom: 6px;
        }
        .result-tagline {
            font-size: 13px;
            color: #666;
        }
        .result-card {
            margin-top: 10px;
            border-radius: 12px;
            background: #fff7fb;
            padding: 10px 12px;
            font-size: 13px;
            color: #555;
        }
        .result-traits {
            display: grid;
            grid-template-columns: repeat(2, minmax(0,1fr));
            gap: 4px 8px;
            margin-top: 8px;
            font-size: 12px;
        }
        .pill {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 999px;
            font-size: 11px;
            background: #ffe7f3;
            color: #ff7aa2;
            margin-right: 4px;
            margin-top: 4px;
        }
        .animal-image {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: #ffe6f1;
            margin: 0 auto 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }
        .animal-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .animal-placeholder {
            font-size: 40px;
        }
        @media (max-width: 480px) {
            .app { padding: 16px 12px 20px; }
        }
        /* ========== é¡µé¢æ•´ä½“æ·¡å…¥ ========== */
        body {
            animation: fadeIn .6s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(.98); }
            to { opacity: 1; transform: scale(1); }
        }

        /* ========== å¡ç‰‡ç¼“æ…¢æµ®åŠ¨ï¼ˆç”¨äºç»“æœå¡ç‰‡ï¼‰ ========== */
        .result-header, .result-card {
            animation: floatCard 3s ease-in-out infinite;
        }
        @keyframes floatCard {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-6px); }
            100% { transform: translateY(0px); }
        }

        /* ========== åŠ¨ç‰©å¤´åƒè½»æµ®åŠ¨ + å‘¼å¸æ„Ÿ ========== */
        .animal-image img {
            animation: animalFloat 3s ease-in-out infinite;
        }
        @keyframes animalFloat {
            0% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-4px) scale(1.02); }
            100% { transform: translateY(0px) scale(1); }
        }

        /* ========== æŒ‰é’®â€œå‘¼å¸å…‰æ™•â€åŠ¨ç”» ========== */
        .btn {
            position: relative;
            overflow: hidden;
        }
        .btn::after {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: 999px;
            background: radial-gradient(circle, rgba(255,255,255,.3), transparent 70%);
            opacity: 0;
            animation: breath 2.4s infinite ease-in-out;
        }
        @keyframes breath {
            0% { opacity: 0; }
            50% { opacity: .6; }
            100% { opacity: 0; }
        }

        /* ========== ç‚¹å‡»é€‰é¡¹æ—¶çš„è½»å¼¹åŠ¨ç”» ========== */
        .option-card {
            transition: transform .15s ease;
        }
        .option-card:active {
            transform: scale(.97);
        }
        /* ========== B. èƒŒæ™¯å°å¿ƒå¿ƒ/æ˜Ÿæ˜Ÿä¸Šæµ®åŠ¨ç”» ========== */
        /* ========== èƒŒæ™¯æ˜Ÿæ˜Ÿä¸Šæµ®åŠ¨ç”»ï¼ˆä¸ä¼šè¦†ç›–å†…å®¹ï¼‰ ========== */
        .floating-bg {
            position: fixed;
            inset: 0;
            z-index: -1;             /* â­ ä¿è¯æ°¸è¿œåœ¨æœ€åº•å±‚ï¼Œä¸æŒ¡å†…å®¹ */
            pointer-events: none;    /* â­ ä¸å½±å“ç‚¹å‡» */
            overflow: hidden;
        }

        .floating-item {
            position: absolute;
            font-size: 12px;
            opacity: 0.6;
            animation: floatUp 7s linear infinite;
            filter: blur(0.5px);     /* æŸ”å’Œä¸€ç‚¹ï¼Œä¸åˆºçœ¼ */
        }

        @keyframes floatUp {
            0% {
                transform: translateY(20px) scale(0.8);
                opacity: 0;
            }
            25% { opacity: 0.8; }
            100% {
                transform: translateY(-120vh) scale(1.2);
                opacity: 0;
            }
        }


        /* ========== C. é¢˜ç›®æ·¡å…¥åŠ¨ç”» ========== */
        .question-enter {
            opacity: 0;
            transform: translateY(10px);
        }
        .question-enter-active {
            opacity: 1;
            transform: translateY(0);
            transition: all .35s ease;
        }

        /* ========== E. å½©è›‹æ–‡æ¡ˆæ ·å¼ ========== */
        .easter-egg {
            margin-top: 10px;
            font-size: 12px;
            color: #ff7aa2;
            text-align: center;
        }
        #radarCanvas {
            max-width: 260px;
            width: 100%;
        }
    </style>
</head>
<body>
<div class="floating-bg" id="floating-bg"></div>
<div id="app" class="app">
    <div v-if="!started && !finished">
        <div class="title">ä»Šå¤©ä½ æ˜¯ä»€ä¹ˆåŠ¨ç‰©æˆåˆ†ï¼Ÿ</div>
        <div class="subtitle">8 é“å°é¢˜ï¼Œçœ‹çœ‹ä½ æ›´åƒå°çŒªã€å°ç‹ç‹¸è¿˜æ˜¯ç©¶æå°é¾™ ğŸ¾</div>
        <div class="tagline">çº¯çæµ‹ï¼Œè¯·å‹¿å½“çœŸï¼Œä½†å¯ä»¥ç–¯ç‹‚è½¬å‘æœ‹å‹</div>
        <button class="btn" @click="startQuiz">å¼€å§‹æµ‹è¯•</button>
        <!-- <div class="footer-tip">Tipsï¼šé¢˜ç›®å’ŒåŠ¨ç‰©é…ç½®éƒ½åœ¨ä¸€ä¸ª index.html é‡Œï¼Œä½ å¯ä»¥éšæ—¶æ”¹ã€‚</div> -->
    </div>

    <div v-else-if="started && !finished">
        <div class="progress">
            <div class="progress-inner" :style="{width: progressPercent + '%'}"></div>
        </div>
        <div class="question-index">
            ç¬¬ {{ currentIndex + 1 }} / {{ questions.length }} é¢˜
        </div>
        <div class="question-text">
            {{ currentQuestion.text }}
        </div>
        <div class="options">
            <div
                    v-for="(opt, idx) in currentQuestion.options"
                    :key="idx"
                    class="option-card"
                    :class="{ active: selectedOptionIndex === idx }"
                    @click="selectOption(idx)"
            >
                <div class="option-label">
                    {{ String.fromCharCode(65 + idx) }}.
                </div>
                <div class="option-text">{{ opt.text }}</div>
            </div>
        </div>
        <button class="btn" @click="nextQuestion">ä¸‹ä¸€é¢˜</button>
        <button class="btn btn-ghost" v-if="currentIndex > 0" @click="backQuestion">ä¸Šä¸€é¢˜</button>
        <div class="footer-tip">ä¸ç”¨æƒ³å¤ªå¤šï¼Œç¬¬ä¸€ååº”å¾€å¾€æœ€æ¥è¿‘ä½ åŠ¨ç‰©æœ¬ä½“ ğŸ·</div>
    </div>

    <div v-else-if="finished && result">
        <div class="result-header">
            <div class="animal-image">
                <!-- TODO: æŠŠè¿™é‡Œçš„å ä½ç¬¦æ¢æˆä½ çš„ Q ç‰ˆåŠ¨ç‰©å›¾ç‰‡ -->
                <img v-if="result.animal.image" :src="result.animal.image" :alt="result.animal.name">
                <div v-else class="animal-placeholder">ğŸ¾</div>
            </div>
            <div class="result-name">{{ result.animal.name }}</div>
            <div class="result-animal-badge">ä½ çš„åŠ¨ç‰©ä¸»æˆåˆ†ï¼š{{ result.animal.shortTitle }}</div>
            <div class="result-tagline">{{ result.animal.desc }}</div>
            <div class="easter-egg">{{ result.easter }}</div>

        </div>
        <div style="margin: 18px 0; text-align:center;">
            <canvas id="radarCanvas" width="260" height="260"></canvas>
        </div>
        <div class="result-card">
            <div>æ€§æ ¼å…³é”®è¯ï¼š</div>
            <div>
                <span class="pill" v-for="(tag, i) in result.animal.tags" :key="i">{{ tag }}</span>
            </div>

            <div style="margin-top:8px;">ä½ çš„éšè—å±æ€§ï¼ˆå¹³å‡å€¼ï¼Œ1-4ï¼‰ï¼š</div>
            <div class="result-traits">
                <div>å¤–å‘ç¨‹åº¦ï¼š{{ result.traits.extroversion.toFixed(1) }}</div>
                <div>è¡ŒåŠ¨åŠ›ï¼š{{ result.traits.action.toFixed(1) }}</div>
                <div>æƒ…ç»ªç¨³å®šï¼š{{ result.traits.emotion.toFixed(1) }}</div>
                <div>ç†æ€§ç¨‹åº¦ï¼š{{ result.traits.rational.toFixed(1) }}</div>
            </div>
        </div>

        <button class="btn" @click="restart">å†æµ‹ä¸€æ¬¡ï¼ˆæ¢ä¸ªå¿ƒæƒ…ï¼‰</button>
        <button class="btn btn-ghost" @click="shareHint">å¦‚ä½•åˆ†äº«ç»™æœ‹å‹ï¼Ÿ</button>
<div class="footer-tip">ä½œè€…ï¼šWindLinX</div>
    </div>
</div>

<script>
    new Vue({
        el: '#app',
        data: function() {
            return {
                started: false,
                finished: false,
                currentIndex: 0,
                selectedOptionIndex: null,
                historyAnswers: [], // ç”¨äºâ€œä¸Šä¸€é¢˜â€è¿”å›
                scores: {
                    extroversion: 0,
                    action: 0,
                    emotion: 0,
                    rational: 0
                },
                questions: [
                    {
                        text: 'æ—©ä¸Šé—¹é’Ÿå“äº†ï¼Œä½ é€šå¸¸ä¼šæ€ä¹ˆåšï¼Ÿ',
                        options: [
                            {
                                text: 'å…³æ‰ç»§ç»­ç¡ï¼Œå†ç¡ 10 åˆ†é’Ÿï¼ˆæœ€åè¿Ÿåˆ°é‚£ç§ï¼‰',
                                scores: { extroversion: 2, action: 1, emotion: 2, rational: 1 }
                            },
                            {
                                text: 'ç¿»ä¸ªèº«åˆ·åˆ·æ‰‹æœºï¼Œæ…¢æ…¢èµ·åºŠ',
                                scores: { extroversion: 2, action: 2, emotion: 2, rational: 2 }
                            },
                            {
                                text: 'æŒ£æ‰ä¸€ä¸‹è¿˜æ˜¯çˆ¬èµ·æ¥ï¼ŒæŒºç†æ™ºçš„',
                                scores: { extroversion: 2, action: 3, emotion: 3, rational: 3 }
                            },
                            {
                                text: 'é—¹é’Ÿä¸€å“ç«‹åˆ»å¼¹èµ·åºŠï¼Œæˆ˜å£«ä¸Šçº¿',
                                scores: { extroversion: 3, action: 4, emotion: 3, rational: 3 }
                            }
                        ]
                    },
                    {
                        text: 'å‘¨æœ«æ²¡æœ‰å®‰æ’æ—¶ï¼Œä½ æ›´å¯èƒ½åœ¨åšä»€ä¹ˆï¼Ÿ',
                        options: [
                            {
                                text: 'åœ¨å®¶èººç€ï¼Œå‰§åˆ·ä¸€æ•´å¤©ä¹Ÿæ²¡é—®é¢˜',
                                scores: { extroversion: 1, action: 1, emotion: 3, rational: 2 }
                            },
                            {
                                text: 'æƒ³çº¦äººï¼Œä½†ä¸ä¸€å®šçœŸçš„çº¦ï¼Œçœ‹å¿ƒæƒ…',
                                scores: { extroversion: 2, action: 2, emotion: 2, rational: 2 }
                            },
                            {
                                text: 'è·Ÿæœ‹å‹å‡ºå»åƒå–ç©ä¹ï¼Œå‘¨æœ«å¿…é¡»æ’æ»¡',
                                scores: { extroversion: 4, action: 3, emotion: 3, rational: 2 }
                            },
                            {
                                text: 'ç»™è‡ªå·±æ’å­¦ä¹ /å¥èº«è®¡åˆ’ï¼Œå‘¨æœ«ä¹Ÿè¦â€œè‡ªæˆ‘æå‡â€',
                                scores: { extroversion: 2, action: 4, emotion: 3, rational: 4 }
                            }
                        ]
                    },
                    {
                        text: 'é‡åˆ°ä¸€ä¸ªæ–°çš„æœºä¼šï¼ˆæ¯”å¦‚æ¢å·¥ä½œã€å»æ–°åŸå¸‚ï¼‰ï¼Œä½ ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ',
                        options: [
                            {
                                text: 'å¥½éº»çƒ¦ï¼Œå¥½ç´¯ï¼Œä¸æƒ³åŠ¨',
                                scores: { extroversion: 1, action: 1, emotion: 3, rational: 3 }
                            },
                            {
                                text: 'æƒ³æƒ³æŒºå¿ƒåŠ¨ï¼Œä½†ä¼šå…ˆè§‚æœ›ä¸€é˜µå­',
                                scores: { extroversion: 2, action: 2, emotion: 2, rational: 3 }
                            },
                            {
                                text: 'å…ˆäº†è§£ä¿¡æ¯ï¼Œåˆ—ä¸ªåˆ©å¼Šæ¸…å•å†è¯´',
                                scores: { extroversion: 2, action: 3, emotion: 3, rational: 4 }
                            },
                            {
                                text: 'å…ˆå†²äº†å†è¯´ï¼Œè¾¹å¹²è¾¹çœ‹æƒ…å†µ',
                                scores: { extroversion: 3, action: 4, emotion: 2, rational: 2 }
                            }
                        ]
                    },
                    {
                        text: 'åœ¨ä¸€ç¾¤äººé‡Œçš„èšä¼šä¸Šï¼Œä½ é€šå¸¸æ˜¯ï¼Ÿ',
                        options: [
                            {
                                text: 'åè§’è½ç©æ‰‹æœºï¼Œæ‚„æ‚„å¬å¤§å®¶èŠå¤©',
                                scores: { extroversion: 1, action: 2, emotion: 3, rational: 3 }
                            },
                            {
                                text: 'è·Ÿä¸€ä¸¤ä¸ªäººèŠå¾—ä¸é”™ï¼Œå°èŒƒå›´èˆ’é€‚ç¤¾äº¤',
                                scores: { extroversion: 2, action: 2, emotion: 3, rational: 3 }
                            },
                            {
                                text: 'å…¨åœºè¯æœ€å¤šçš„é‚£å‡ ä¸ªä¹‹ä¸€ï¼Œèƒ½æ§åœº',
                                scores: { extroversion: 4, action: 3, emotion: 3, rational: 2 }
                            },
                            {
                                text: 'åˆ°å¤„ä¸²æ¡Œå­ï¼Œè·Ÿè°éƒ½èƒ½å‹‰å¼ºèŠä¸¤å¥',
                                scores: { extroversion: 3, action: 3, emotion: 2, rational: 2 }
                            }
                        ]
                    },
                    {
                        text: 'åšä¸€ä¸ªé‡è¦å†³å®šæ—¶ï¼Œä½ æ›´åå‘ï¼Ÿ',
                        options: [
                            {
                                text: 'å®Œå…¨çœ‹æ„Ÿè§‰ï¼Œå¿ƒé‡Œå“ªä¸ªå£°éŸ³å¤§å°±é€‰å“ªä¸ª',
                                scores: { extroversion: 2, action: 2, emotion: 2, rational: 1 }
                            },
                            {
                                text: 'å…ˆéšä¾¿é€‰ä¸€ä¸ªæ–¹å‘è¯•è¯•ï¼Œèµ°ä¸€æ­¥çœ‹ä¸€æ­¥',
                                scores: { extroversion: 2, action: 3, emotion: 2, rational: 2 }
                            },
                            {
                                text: 'ä¼šé—®å¾ˆå¤šäººæ„è§ï¼Œç»¼åˆå„ç§å»ºè®®å†å†³å®š',
                                scores: { extroversion: 3, action: 2, emotion: 3, rational: 3 }
                            },
                            {
                                text: 'è‡ªå·±æŸ¥å¤§é‡èµ„æ–™ã€å¯¹æ¯”é€‰é¡¹ï¼Œç†æ€§åˆ†æåå†å†³å®š',
                                scores: { extroversion: 1, action: 3, emotion: 3, rational: 4 }
                            }
                        ]
                    },
                    {
                        text: 'åˆ«äººä¸€å¥ä¸å¤ªå¥½å¬çš„è¯ï¼Œä½ é€šå¸¸ä¼šï¼Ÿ',
                        options: [
                            {
                                text: 'å¬å®Œä¼šåœ¨å¿ƒé‡Œç›˜æ—‹å¾ˆä¹…ï¼Œä¸€ç›´æƒ³',
                                scores: { extroversion: 1, action: 1, emotion: 1, rational: 2 }
                            },
                            {
                                text: 'è¡¨é¢æ²¡äº‹ï¼Œå¿ƒé‡Œè®°å¾ˆä¹…ï¼Œä¸‹æ¬¡å†è¯´',
                                scores: { extroversion: 2, action: 2, emotion: 2, rational: 2 }
                            },
                            {
                                text: 'å½“åœºå°±å›ä¸€å¥ï¼Œä¸èƒ½åƒäº',
                                scores: { extroversion: 3, action: 3, emotion: 2, rational: 2 }
                            },
                            {
                                text: 'ç¬‘ç¬‘è¿‡å»ï¼Œå½“ç©ç¬‘å¬ï¼Œé©¬ä¸Šå°±å¿˜äº†',
                                scores: { extroversion: 3, action: 2, emotion: 4, rational: 3 }
                            }
                        ]
                    },
                    {
                        text: 'é¢å¯¹ä¸€æ®µé‡è¦çš„å…³ç³»ï¼ˆæœ‹å‹/æ‹äººï¼‰ï¼Œä½ æ›´åƒï¼Ÿ',
                        options: [
                            {
                                text: 'å¾ˆé»ï¼Œå¯¹æ–¹ä¸å›æ¶ˆæ¯ä¼šåå¤ç¡®è®¤æ˜¯ä¸æ˜¯ç”Ÿæ°”äº†',
                                scores: { extroversion: 2, action: 2, emotion: 1, rational: 1 }
                            },
                            {
                                text: 'å˜´ä¸Šæ·¡å®šï¼Œå¿ƒé‡Œåœ¨æ„ï¼Œä½†ä¸ä¼šè¯´å¤ªå¤š',
                                scores: { extroversion: 1, action: 2, emotion: 2, rational: 3 }
                            },
                            {
                                text: 'ä¼šä¸»åŠ¨ç¤ºå¥½ã€å…³å¿ƒï¼Œå¯¹æ–¹éœ€è¦æˆ‘å°±åˆ°',
                                scores: { extroversion: 3, action: 3, emotion: 3, rational: 2 }
                            },
                            {
                                text: 'ä¿æŒä¸€ç‚¹è·ç¦»æ„Ÿï¼Œè°ç¦»å¼€è°éƒ½èƒ½è¿‡',
                                scores: { extroversion: 2, action: 3, emotion: 3, rational: 4 }
                            }
                        ]
                    },
                    {
                        text: 'å¦‚æœç»™ä½ ä¸€ä¸ªå…¨æ–°å¼€å§‹çš„æœºä¼šï¼Œä½ ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ',
                        options: [
                            {
                                text: 'å¥½ç´¯å“¦ï¼Œæˆ‘åªæƒ³åŸåœ°ç»­å‘½å°±è¡Œ',
                                scores: { extroversion: 1, action: 1, emotion: 3, rational: 3 }
                            },
                            {
                                text: 'æœ‰ç‚¹å¿ƒåŠ¨ï¼Œä½†ä¼šå…ˆåšæ¢¦ï¼Œè¡ŒåŠ¨éšç¼˜',
                                scores: { extroversion: 2, action: 2, emotion: 2, rational: 2 }
                            },
                            {
                                text: 'åªè¦æ–¹å‘å¥½ï¼Œç«‹åˆ»é‡å¼€ï¼Œå¤§èƒ†ä¸€ç‚¹',
                                scores: { extroversion: 3, action: 4, emotion: 2, rational: 2 }
                            },
                            {
                                text: 'ä¼šå…ˆæŠŠæ—§å±€æ”¶æ‹¾å¥½ï¼Œå†æ…¢æ…¢è®¾è®¡æ–°å±€',
                                scores: { extroversion: 2, action: 3, emotion: 3, rational: 4 }
                            }
                        ]
                    }
                ],
                animals: [
                    {
                        name: 'è½¯èŒå°çŒª',
                        shortTitle: 'ä½›ç³»èººå¹³ä»£è¡¨',
                        desc: 'ä½ èº«ä¸Šçš„å°çŒªæˆåˆ†ä¸æ­¢ä¸€ç‚¹ç‚¹ï¼Œçˆ±èˆ’æœã€ä¼šäº«å—ï¼Œä¹Ÿæœ‰è‡ªå·±ç‹¬ç‰¹çš„èŠ‚å¥æ„Ÿã€‚',
                        tags: ['çˆ±åƒ', 'çˆ±ç¡', 'æ…¢çƒ­', 'å®‰å…¨æ„Ÿé€‰æ‰‹'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860277319106560.png',
                        traits: { extroversion: 2, action: 1, emotion: 4, rational: 1 }
                    },
                    {
                        name: 'é«˜å†·å°çŒ«',
                        shortTitle: 'è‡ªå¸¦æ°”åœºçš„çŒ«ç³»äºº',
                        desc: 'è¡¨é¢æ·¡æ·¡çš„ï¼Œå…¶å®å¾ˆæŒ‘ç¯å¢ƒï¼Œå¯¹å–œæ¬¢çš„äººä¼šç‰¹åˆ«è½¯ã€‚',
                        tags: ['é«˜å†·', 'æŒ‘ç¯å¢ƒ', 'çœ‹ç¼˜åˆ†', 'çˆ±å¹²å‡€'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860275456835584.png',
                        traits: { extroversion: 1, action: 2, emotion: 3, rational: 4 }
                    },
                    {
                        name: 'çƒ­æƒ…å°ç‹—',
                        shortTitle: 'ç¤¾äº¤å°å¤ªé˜³',
                        desc: 'ä½ å¯¹åœ¨æ„çš„äººéå¸¸ä¸Šå¿ƒï¼Œåªè¦è¢«ä½ è®¤å®šï¼Œå°±æ˜¯ä¸€æ¡è·¯èµ°åˆ°é»‘çš„å¿ çŠ¬å‹ã€‚',
                        tags: ['ç²˜äºº', 'å¿ è¯š', 'å¾ˆä¼šç…§é¡¾äºº', 'ç¤¾äº¤å°èƒ½æ‰‹'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860279189766144.png',
                        traits: { extroversion: 4, action: 3, emotion: 3, rational: 2 }
                    },
                    {
                        name: 'èªæ˜å°ç‹ç‹¸',
                        shortTitle: 'æ´å¯Ÿä¸€åˆ‡çš„æ™ºå°†',
                        desc: 'ä½ è§‚å¯ŸåŠ›å¾ˆå¼ºï¼Œæ“…é•¿åœ¨ä¸å£°ä¸å“ä¸­æŒæ¡å…¨å±€ï¼Œæ˜¯å…¸å‹æ™ºå•†åœ¨çº¿å‹ã€‚',
                        tags: ['èªæ˜', 'æ´å¯ŸåŠ›å¼º', 'ä¸å®Œå…¨è¡¨éœ²', 'å¿ƒæ€ç»†è…»'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860281098174464.png',
                        traits: { extroversion: 2, action: 3, emotion: 2, rational: 4 }
                    },
                    {
                        name: 'æœºçµå°å…”å­',
                        shortTitle: 'æ•æ„Ÿåˆå¯çˆ±',
                        desc: 'ä½ é€Ÿåº¦å¾ˆå¿«ï¼Œååº”ä¹Ÿå¿«ï¼Œæœ‰ç‚¹å°æ•æ„Ÿä½†ç»å¯¹å¯çˆ±ã€‚',
                        tags: ['ååº”å¿«', 'æœ‰ç‚¹æ•æ„Ÿ', 'çˆ±æ’’è…¿å°±è·‘', 'å¯çˆ±æ‹…å½“'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860282708787200.png',
                        traits: { extroversion: 3, action: 4, emotion: 1, rational: 2 }
                    },
                    {
                        name: 'æ†¨æ†¨å°ç†Š',
                        shortTitle: 'æ…¢æ‚ æ‚ çš„é è°±äºº',
                        desc: 'åŠ¨ä½œä¸ä¸€å®šå¿«ï¼Œä½†ç»™äººçš„æ„Ÿè§‰å¾ˆå¯é ï¼Œæ˜¯é‚£ç§â€œæƒ³é ä¸€é â€çš„å­˜åœ¨ã€‚',
                        tags: ['æ…¢çƒ­', 'ç¨³é‡', 'å¯é ', 'æœ‰å®‰å…¨æ„Ÿ'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860283535065088.png',
                        traits: { extroversion: 2, action: 1, emotion: 4, rational: 2 }
                    },
                    {
                        name: 'ç‹è€…å°ç‹®å­',
                        shortTitle: 'æ°”åœºè‡ªå¸¦ BGM',
                        desc: 'ä½ èº«ä¸Šæœ‰ç§å¤©ç”Ÿä¸æœè¾“çš„åŠ²å„¿ï¼Œå®¹æ˜“æˆä¸ºäººç¾¤ç„¦ç‚¹ã€‚',
                        tags: ['è‡ªä¿¡', 'é¢†å¯¼æ„Ÿ', 'ä¸æƒ³è¾“', 'çˆ±é¢å­'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860285401530368.png',
                        traits: { extroversion: 4, action: 4, emotion: 3, rational: 3 }
                    },
                    {
                        name: 'å¼ºåŠ¿å°è€è™',
                        shortTitle: 'å†²åŠ²æ‹‰æ»¡',
                        desc: 'ä½ åšäº‹å¾ˆæœ‰å†²åŠ²ï¼Œæœ‰ç‚¹ç‹ ï¼Œæœ‰ç›®æ ‡å°±ä¼šç›¯ä½æ‹¼ä¸‹å»ã€‚',
                        tags: ['å†²åŠ²è¶³', 'æ”»å‡»åŠ›å¼º', 'ä¿æŠ¤æ¬²', 'ç›®æ ‡æ„Ÿå¼º'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860288236879872.png',
                        traits: { extroversion: 3, action: 4, emotion: 2, rational: 3 }
                    },
                    {
                        name: 'å­¤å‚²å°ç‹¼',
                        shortTitle: 'ç‹¬è¡Œåˆæ¸…é†’',
                        desc: 'ä½ ä¸å¤ªä¾èµ–åˆ«äººï¼Œä¹ æƒ¯è‡ªå·±æ‰›äº‹ï¼Œä½†è¯¥ä¿æŠ¤çš„äººç»ä¸åé€€ã€‚',
                        tags: ['ç‹¬ç«‹', 'æœ‰è¾¹ç•Œæ„Ÿ', 'æ¸…é†’', 'ä¸éšæ³¢é€æµ'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860288689864704.png',
                        traits: { extroversion: 2, action: 3, emotion: 2, rational: 4 }
                    },
                    {
                        name: 'æ¸©æŸ”å°é¹¿',
                        shortTitle: 'ä¹–ä¹–åˆå¿ƒè½¯',
                        desc: 'ä½ çœ‹èµ·æ¥å¾ˆä¹–ï¼Œå¿ƒä¹Ÿæ¯”è¾ƒè½¯ï¼Œæ˜¯â€œç‹ ä¸èµ·æ¥â€çš„é‚£ä¸€æŒ‚ã€‚',
                        tags: ['å¿ƒè½¯', 'å…±æƒ…åŠ›å¼º', 'æœ‰ç‚¹å®³ç¾', 'å–œæ¬¢å®‰é™ç¾å¥½'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860286093590528.png',
                        traits: { extroversion: 2, action: 2, emotion: 4, rational: 3 }
                    },
                    {
                        name: 'å‘†èŒä¼é¹…',
                        shortTitle: 'å¤–è¡¨ç»…å£«çš„å°å¯çˆ±',
                        desc: 'èµ°è·¯æœ‰ç‚¹æ‘‡ï¼Œä½†å†…å¿ƒå…¶å®å¾ˆè®¤çœŸï¼Œæ˜¯ç”Ÿæ´»é‡Œçš„å°å–œæ„Ÿè§’è‰²ã€‚',
                        tags: ['æœ‰å–œæ„Ÿ', 'è®¤çœŸ', 'æ…¢åŠæ‹', 'å¯çˆ±æ‹…å½“'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860288434012160.png',
                        traits: { extroversion: 2, action: 1, emotion: 3, rational: 3 }
                    },
                    {
                        name: 'å’¸é±¼ç†ŠçŒ«',
                        shortTitle: 'å›½å®çº§æ‘†çƒ‚è‰ºæœ¯å®¶',
                        desc: 'ä½ å¾ˆæ‡‚å¾—ç»™è‡ªå·±æ‰¾èˆ’æœçš„å§¿åŠ¿ï¼Œæ‡’å’Œå¯çˆ±åœ¨ä½ èº«ä¸Šèä¸ºä¸€ä½“ã€‚',
                        tags: ['ä¼šæ‘†çƒ‚', 'å¾ˆå¯çˆ±', 'ä¸æƒ³åŠ¨', 'ä½†åˆè®©äººå¿ƒè½¯'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860290468249600.png',
                        traits: { extroversion: 2, action: 1, emotion: 4, rational: 2 }
                    },
                    {
                        name: 'å›°å›°è€ƒæ‹‰',
                        shortTitle: 'ç¡è§‰æ‰æ˜¯æ­£äº‹',
                        desc: 'ä½ èƒ½é‡çœ‹èµ·æ¥æ°¸è¿œä¸å¤ªæ»¡ï¼Œéœ€è¦å¤§é‡ä¼‘æ¯æ—¶é—´æ¥æ¢å¤è¡€æ¡ã€‚',
                        tags: ['è¶…çˆ±ç¡', 'éœ€è¦å®‰å…¨æ„Ÿ', 'èŠ‚å¥æ…¢', 'è‡ªå·±ä¸–ç•Œ'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860290669576193.png',
                        traits: { extroversion: 1, action: 1, emotion: 3, rational: 2 }
                    },
                    {
                        name: 'è­¦æƒ•å°åˆºçŒ¬',
                        shortTitle: 'å¤–ç¡¬å†…è½¯',
                        desc: 'ä½ æœ‰è‡ªå·±çš„é˜²å¤‡å£³ï¼Œä½†ä¸€æ—¦ä¿¡ä»»å°±ä¼šéå¸¸æ¸©æŸ”ã€‚',
                        tags: ['é˜²å¾¡åŠ›é«˜', 'å¤–å†·å†…çƒ­', 'å¾ˆåœ¨æ„è¾¹ç•Œ', 'æ…¢æ…¢äº²è¿‘'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860290761850880.png',
                        traits: { extroversion: 1, action: 2, emotion: 2, rational: 3 }
                    },
                    {
                        name: 'å¿™ç¢Œå°æ¾é¼ ',
                        shortTitle: 'æ”¶é›†å‹äººæ ¼',
                        desc: 'ä½ å–œæ¬¢å›¤ä¸œè¥¿ã€å­˜å®‰å…¨æ„Ÿï¼Œçœ‹èµ·æ¥æœ‰ç‚¹æ¯›èºä½†æŒºå¯çˆ±ã€‚',
                        tags: ['çˆ±å›¤ä¸œè¥¿', 'ç²¾åŠ›æ—ºç››', 'æœ‰ç‚¹æ¯›èº', 'å°æœºçµé¬¼'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860290703130624.png',
                        traits: { extroversion: 3, action: 4, emotion: 2, rational: 2 }
                    },
                    {
                        name: 'ç¨³é‡å°ä¹Œé¾Ÿ',
                        shortTitle: 'æ…¢å°±æ˜¯å¿«',
                        desc: 'ä½ èŠ‚å¥æ…¢ï¼Œä½†æ¯ä¸€æ­¥éƒ½è¸å®ï¼Œä¸å¤ªä¼šå†²åŠ¨è¡Œäº‹ã€‚',
                        tags: ['èŠ‚å¥æ…¢', 'è¶…ç¨³', 'æŠ—æ‰“å‡»', 'æ€è€ƒå‹'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860289365147648.png',
                        traits: { extroversion: 1, action: 1, emotion: 4, rational: 4 }
                    },
                    {
                        name: 'èªæ…§æµ·è±š',
                        shortTitle: 'æƒ…å•†æ™ºå•†éƒ½åœ¨çº¿',
                        desc: 'ä½ æ—¢æ‡‚äººæƒ…ä¸–æ•…ï¼Œä¹Ÿä¸å¤±çœŸè¯šï¼Œå¾ˆä¼šåœ¨ç¾¤ä½“ä¸­æ‰¾åˆ°å¹³è¡¡ã€‚',
                        tags: ['èªæ˜', 'ä¼šç…§é¡¾æ°”æ°›', 'ä¼šç©ä¹Ÿä¼šçœ‹äºº', 'ç¤¾äº¤å¤©èµ‹'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860289704886272.png',
                        traits: { extroversion: 4, action: 3, emotion: 3, rational: 4 }
                    },
                    {
                        name: 'å¤œçŒ«çŒ«å¤´é¹°',
                        shortTitle: 'å¤œé—´æ€è€ƒå®¶',
                        desc: 'ä½ å¯èƒ½ä¸çˆ±ç™½å¤©åµé—¹ï¼Œä½†è¶Šåˆ°æ™šä¸Šè¶Šæ¸…é†’ï¼Œçˆ±ä¸€ä¸ªäººæƒ³äº‹æƒ…ã€‚',
                        tags: ['å¤œçŒ«å­', 'æƒ³å¾ˆå¤š', 'è§‚å¯Ÿè€…', 'è¯ä¸å¤šä½†çœ‹å¾—æ¸…'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860290669576192.png',
                        traits: { extroversion: 1, action: 2, emotion: 3, rational: 4 }
                    },
                    {
                        name: 'å½å½å°é¸¡',
                        shortTitle: 'å…ƒæ°”ç¢ç¢å¿µ',
                        desc: 'ä½ æœ‰ä¸€ç§ç¢ç¢å¿µçš„å¯çˆ±ï¼Œç´§å¼ æ—¶ä¼šå¤šè¯ï¼Œä½†å…¶å®å¿ƒé‡Œå¾ˆæ¸©æŸ”ã€‚',
                        tags: ['è¯å¤š', 'æœ‰ç‚¹ç´§å¼ ', 'å…ƒæ°”æ„Ÿ', 'éœ€è¦è¢«å›åº”'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860290342420480.png',
                        traits: { extroversion: 3, action: 3, emotion: 1, rational: 2 }
                    },
                    {
                        name: 'ç©¶æå°é¾™',
                        shortTitle: 'éšè— BOSS ä½“è´¨',
                        desc: 'ä½ èº«ä¸Šçš„å„ç§ç‰¹è´¨éƒ½æ‹‰å¾—æ¯”è¾ƒæ»¡ï¼Œæ˜¯é‚£ç§ä¸€æ—¦è®¤çœŸå°±èƒ½å¼€å¤§çš„äººã€‚',
                        tags: ['èƒ½é‡æ‹‰æ»¡', 'èµ·é£å‹äººæ ¼', 'è®¤çœŸæ—¶è¶…å¼º', 'å¯æ€•åˆå¯çˆ±'],
                        image: 'https://lcgds.obs.cn-east-3.myhuaweicloud.com/0/1/20251205/1996860290157871104.png',
                        traits: { extroversion: 4, action: 4, emotion: 4, rational: 4 }
                    }
                ],
                easterEggs: {
                    'è½¯èŒå°çŒª': [
                        'ä»Šå¤©ä¹Ÿæ˜¯é€‚åˆèººå¹³çš„ä¸€å¤© o(ï¿£â–½ï¿£)ï½„',
                        'ä½ è¿™ä¹ˆå¯çˆ±ï¼Œä¸å¤šç¡ä¼šå¯æƒœäº†ï¼',
                        'å°çŒªçš„å¹¸ç¦å¾ˆç®€å•ï¼šåƒé¥±â†’ç¡è¶³â†’ç»§ç»­å¯çˆ±ã€‚'
                    ],
                    'é«˜å†·å°çŒ«': [
                        'å†·æ˜¯å†·ï¼Œä½†è¢«ä½ é€‰ä¸­çš„äººä¼šå¹¸ç¦åˆ°ä¸è¡Œã€‚',
                        'ä½ å¤–è¡¨é«˜å†·ï¼Œä½†å†…å¿ƒå¥¶ä¹ä¹çš„ã€‚',
                        'å…¶å®ä½ æ¯”ä½ æƒ³è±¡çš„æ›´ä¼šæ’’å¨‡ã€‚'
                    ],
                    'çƒ­æƒ…å°ç‹—': [
                        'ä½ ä¸€å…³å¿ƒåˆ«äººï¼Œåˆ«äººå°±æ²¦é™·äº†ã€‚',
                        'é˜³å…‰æ²»æ„ˆå‹äººæ ¼ï¼Œæœ¬äººæ¯”ä½ è‡ªå·±æ›´æ‡‚ä½ ã€‚',
                        'ä½ ç»™äººâ€œè¢«å–œæ¬¢ä¸€å®šå¾ˆèˆ’æœâ€çš„æ„Ÿè§‰ã€‚'
                    ],
                    'èªæ˜å°ç‹ç‹¸': [
                        'ä½ ä»€ä¹ˆéƒ½èƒ½çœ‹é€ï¼Œä½†ä½ é€‰æ‹©æ¸©æŸ”ä»¥å¾…ã€‚',
                        'ä½ çš„æ´å¯ŸåŠ›æ¯”ä½ è¡¨ç°å‡ºæ¥çš„æ›´é”‹åˆ©ã€‚',
                        'â€œæˆ‘çœ‹åˆ°äº†ï¼Œä½†æˆ‘ä¸è¯´ã€‚â€å°±æ˜¯ä½ ã€‚'
                    ],
                    'æœºçµå°å…”å­': [
                        'ä½ è·‘å¾—å¿«ä¸ä»…æ˜¯è…¿å¿«ï¼Œå¿ƒä¹Ÿå¾ˆå¿«ï½',
                        'èƒ†å°ä¸€ç‚¹æ²¡å…³ç³»ï¼Œå¯çˆ±å°±å¤Ÿäº†ã€‚',
                        'ç´§å¼ æ—¶çš„å°åŠ¨ä½œï¼Œæ¯”ç­”æ¡ˆæœ¬èº«æ›´èŒã€‚'
                    ],
                    // â€¦â€¦ ä½ è¦æˆ‘å¯ä»¥æŠŠ 20 ç§åŠ¨ç‰©å…¨è¡¥é½
                },

                result: null
            };
        },
        mounted() {
            this.generateFloating();
        },

        computed: {
            currentQuestion: function() {
                return this.questions[this.currentIndex];
            },
            progressPercent: function() {
                return Math.round(((this.currentIndex) / this.questions.length) * 100);
            }
        },
        methods: {
            drawRadar(traits) {
                const canvas = document.getElementById("radarCanvas");
                if (!canvas) return;
                const ctx = canvas.getContext("2d");

                const W = canvas.width;
                const H = canvas.height;
                const cx = W / 2;
                const cy = H / 2;
                const maxR = 90;

                // 4 ä¸ªè§’ï¼ˆå››ç»´ï¼‰
                const angles = [
                    -90 * Math.PI / 180,   // å¤–å‘ï¼ˆä¸Šï¼‰
                    0 * Math.PI / 180,    // ç†æ€§ï¼ˆå³ï¼‰
                    90 * Math.PI / 180,   // è¡ŒåŠ¨åŠ›ï¼ˆä¸‹ï¼‰
                    180 * Math.PI / 180   // æƒ…ç»ªï¼ˆå·¦ï¼‰
                ];

                // æŒ‰ç…§è§’çš„é¡ºåºç»™å€¼
                const values = [
                    traits.extroversion,
                    traits.rational,
                    traits.action,
                    traits.emotion
                ];

                const labels = ["å¤–å‘", "ç†æ€§", "è¡ŒåŠ¨", "æƒ…ç»ª"];

                // æ¸…ç©º
                ctx.clearRect(0, 0, W, H);

                // ç”»ç½‘æ ¼
                ctx.strokeStyle = "#ffe1f2";
                ctx.lineWidth = 1;

                for (let level = 1; level <= 4; level++) {
                    const r = (maxR / 4) * level;
                    ctx.beginPath();
                    for (let i = 0; i < 4; i++) {
                        const angle = angles[i];
                        const x = cx + r * Math.cos(angle);
                        const y = cy + r * Math.sin(angle);
                        if (i === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    ctx.closePath();
                    ctx.stroke();
                }

                // æ•°æ®åŒºåŸŸ
                ctx.beginPath();
                for (let i = 0; i < 4; i++) {
                    const angle = angles[i];
                    const v = (values[i] / 4) * maxR;
                    const x = cx + v * Math.cos(angle);
                    const y = cy + v * Math.sin(angle);
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.closePath();

                ctx.fillStyle = "rgba(255, 122, 162, 0.35)";
                ctx.strokeStyle = "#ff7aa2";
                ctx.lineWidth = 2;
                ctx.fill();
                ctx.stroke();

                // æ ‡ç­¾
                ctx.fillStyle = "#ff7aa2";
                ctx.font = "14px sans-serif";

                const labelPos = [
                    [cx, cy - maxR - 12],   // å¤–å‘
                    [cx + maxR + 8, cy],    // ç†æ€§
                    [cx, cy + maxR + 18],   // è¡ŒåŠ¨
                    [cx - maxR - 20, cy]    // æƒ…ç»ª
                ];

                for (let i = 0; i < labels.length; i++) {
                    ctx.fillText(labels[i], labelPos[i][0], labelPos[i][1]);
                }
            },

            generateFloating: function() {
                const container = document.getElementById("floating-bg");
                const symbols = [ "âœ¨",  "â­", "ğŸŒ¸"];

                setInterval(() => {
                    const el = document.createElement("div");
                    el.className = "floating-item";
                    el.innerText = symbols[Math.floor(Math.random() * symbols.length)];
                    el.style.left = Math.random() * 100 + '%';
                    el.style.bottom = "-20px";
                    el.style.fontSize = (12 + Math.random()*10) + "px";
                    el.style.animationDuration = (5 + Math.random()*3) + "s";

                    container.appendChild(el);

                    setTimeout(() => el.remove(), 9000);
                }, 600); // æ¯ 0.6 ç§’ç”Ÿæˆä¸€ä¸ªå¯çˆ±çš„æµ®åŠ¨ç‰©
            },

            getEasterEgg(animalName) {
                const arr = this.easterEggs[animalName];
                if (!arr) return '';
                return arr[Math.floor(Math.random() * arr.length)];
            },

            startQuiz: function() {
                this.started = true;
            },
            selectOption: function(idx) {
                this.selectedOptionIndex = idx;
            },
            nextQuestion: function() {
                if (this.selectedOptionIndex === null) {
                    alert('å…ˆé€‰ä¸€ä¸ªé€‰é¡¹å†ä¸‹ä¸€é¢˜å‘€ï½');
                    return;
                }
                // è®°å½•æœ¬é¢˜ç­”æ¡ˆç”¨äºâ€œä¸Šä¸€é¢˜â€
                this.historyAnswers[this.currentIndex] = this.selectedOptionIndex;

                const opt = this.currentQuestion.options[this.selectedOptionIndex];
                for (var key in opt.scores) {
                    if (opt.scores.hasOwnProperty(key)) {
                        this.scores[key] += opt.scores[key];
                    }
                }

                this.selectedOptionIndex = null;

                if (this.currentIndex < this.questions.length - 1) {
                    this.currentIndex += 1;
                    // è‡ªåŠ¨é«˜äº®ä¹‹å‰é€‰è¿‡çš„ç­”æ¡ˆ
                    var prev = this.historyAnswers[this.currentIndex];
                    if (typeof prev === 'number') {
                        this.selectedOptionIndex = prev;
                    }
                } else {
                    this.finishQuiz();
                }
            },
            backQuestion: function() {
                if (this.currentIndex === 0) return;

                // å…ˆæŠŠå½“å‰é¢˜å·²åŠ ä¸Šçš„åˆ†æ•°æ‰£å›å»ï¼ˆå¦‚æœå½“å‰é¢˜æœ‰å·²é€‰ç­”æ¡ˆï¼‰
                var currentAnswerIndex = this.historyAnswers[this.currentIndex];
                if (typeof currentAnswerIndex === 'number') {
                    var opt = this.currentQuestion.options[currentAnswerIndex];
                    for (var key in opt.scores) {
                        if (opt.scores.hasOwnProperty(key)) {
                            this.scores[key] -= opt.scores[key];
                        }
                    }
                }

                this.currentIndex -= 1;
                var prev = this.historyAnswers[this.currentIndex];
                this.selectedOptionIndex = typeof prev === 'number' ? prev : null;
            },
            finishQuiz: function() {
                this.finished = true;
                this.started = false;

                const res = this.calcResult();
                res.easter = this.getEasterEgg(res.animal.name);
                this.result = res;

                this.$nextTick(() => {
                    this.drawRadar(res.traits);
                });
            },


            calcResult: function() {
                var totalQuestions = this.questions.length;
                function avg(scores, key) {
                    return scores[key] / totalQuestions;
                }
                var traits = {
                    extroversion: avg(this.scores, 'extroversion'),
                    action: avg(this.scores, 'action'),
                    emotion: avg(this.scores, 'emotion'),
                    rational: avg(this.scores, 'rational')
                };
                var best = null;
                var bestDistance = Infinity;

                for (var i = 0; i < this.animals.length; i++) {
                    var a = this.animals[i];
                    var t = a.traits;
                    var d =
                        Math.pow(traits.extroversion - t.extroversion, 2) +
                        Math.pow(traits.action - t.action, 2) +
                        Math.pow(traits.emotion - t.emotion, 2) +
                        Math.pow(traits.rational - t.rational, 2);
                    if (d < bestDistance) {
                        bestDistance = d;
                        best = a;
                    }
                }
                return { animal: best, traits: traits };
            },
            restart: function() {
                this.started = false;
                this.finished = false;
                this.currentIndex = 0;
                this.selectedOptionIndex = null;
                this.historyAnswers = [];
                this.scores = {
                    extroversion: 0,
                    action: 0,
                    emotion: 0,
                    rational: 0
                };
                this.result = null;
            },
            shareHint: function() {
                alert('å¯ä»¥æŠŠè¿™ä¸ªé¡µé¢çš„é“¾æ¥å‘ç»™æœ‹å‹');
            }
        }
    });
</script>
</body>
</html>



